!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("rxjs/Subject")):"function"==typeof define&&define.amd?define(["exports","@angular/core","rxjs/Subject"],e):e((n.ng=n.ng||{},n.ng.ngumodal=n.ng.ngumodal||{}),n.ng.core,n.rxjs_Subject)}(this,function(n,e,t){"use strict";var i=function(){function n(){this.openModal=!1,this.isOpened=new t.Subject}return n.prototype.open=function(n){this.openModal=!0,this.isOpened.next({type:this.openModal,id:n})},n.prototype.close=function(n){this.openModal=!1,this.isOpened.next({type:this.openModal,id:n})},n.prototype.confirm=function(n,e){return new Promise(function(n){return n(window.confirm(e||"Is it OK?"))})},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(),o=function(){function n(n,t,i){this.modal=n,this.el=t,this.renderer=i,this.beforestart=new e.EventEmitter,this.afterstart=new e.EventEmitter,this.beforeend=new e.EventEmitter,this.afterend=new e.EventEmitter}return n.prototype.ngOnInit=function(){var n=this;this.modalDiv=this.modalMain1.nativeElement,this.MIndex.backdrop=void 0===this.MIndex.backdrop||this.MIndex.backdrop;var e=this.generateID();this.renderer.setElementClass(this.modalDiv,e,!0);var t=document.createElement("style");if(this.MIndex.width&&!this.MIndex.width.fixed){var i="";i+=this.MIndex.width.xs?"@media (max-width:767px){."+e+" .innerdiv {width: "+this.MIndex.width.xs+"}}":"",i+=this.MIndex.width.sm?"@media (min-width:768px){."+e+" .innerdiv {width: "+this.MIndex.width.sm+"}}":"",i+=this.MIndex.width.md?"@media (min-width:992px){."+e+" .innerdiv {width: "+this.MIndex.width.md+"}}":"",i+=this.MIndex.width.lg?"@media (min-width:1200px){."+e+" .innerdiv {width: "+this.MIndex.width.lg+"}}":"",t.innerHTML=i}else{var o=this.MIndex.width?this.MIndex.width.fixed||"310px":"310px";t.innerHTML="."+e+" .innerdiv {width: "+o+"; min-width: "+o+";}"}this.modalDiv.appendChild(t),this.modalSub=this.modal.isOpened.subscribe(function(e){e.id===n.MIndex.id&&n.toggleModal(e.type),0===e.id&&n.close()})},n.prototype.ngOnDestroy=function(){this.modalSub.unsubscribe()},n.prototype.generateID=function(){for(var n="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=0;t<6;t++)n+=e.charAt(Math.floor(Math.random()*e.length));return"ngumodal"+n},n.prototype.close=function(){this.modal.close(this.MIndex.id)},n.prototype.backdrop=function(){this.MIndex.backdrop&&this.close()},n.prototype.toggleModal=function(n){var e=this,t=document.body.style,i=this.modalDiv;n?(this.beforestart.emit(),this.openModals=n,this.renderer.setElementStyle(this.modalInner.nativeElement,"transfrom","scale(.2) translate3d(2241px, 1400px, 0)"),setTimeout(function(){t.cssText="overflow: hidden; padding-right: 19px;",e.renderer.setElementClass(i,"anim",!0)},2),this.afterstart.emit()):(this.beforeend.emit(),this.renderer.setElementClass(i,"anim",!1),setTimeout(function(){t.cssText="",e.openModals=n,e.afterend.emit()},290))},n.prototype.confirm=function(n,e){return new Promise(function(n){return n(window.confirm(e||"Is it OK?"))})},n.decorators=[{type:e.Component,args:[{selector:"ngu-modal",template:'<div #modal class="modal" [class.in]="openModals"><div class="main"><div class="innerdiv"><div #modalInner class="innerMain"><ng-content></ng-content></div></div><div class="overlay" (click)="backdrop()"></div></div></div>',styles:["\n    .in {\n      display: table !important;\n    }\n\n    .modal.anim .main .overlay {\n      opacity: 0.48;\n    }\n    .modal.anim .main .innerdiv .innerMain {\n      transform: translateY(0px);\n      opacity: 1;\n    }\n\n    .modal {\n      position: fixed;\n      z-index: 1000;\n      pointer-events: none;\n      top: 0;\n      left: 0;\n      height: 100%;\n      width: 100%;\n      display: none;\n    }\n    .modal .main {\n      display: flex;\n      position: absolute;\n      z-index: 1000;\n      justify-content: center;\n      align-items: center;\n      pointer-events: none;\n      top: 0;\n      left: 0;\n      height: 100%;\n      width: 100%;\n    }\n    .modal .main .innerdiv {\n      z-index: 1000;\n      position: static;\n      pointer-events: auto;\n      top: 0;\n      left: 0;\n      transition: transform 0.3s ease;\n    }\n    .modal .main .innerdiv .innerMain {\n      box-shadow: 0 11px 15px -7px rgba(0, 0, 0, 0.2), 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12);\n      display: block;\n      padding: 24px;\n      border-radius: 2px;\n      box-sizing: border-box;\n      overflow: auto;\n      max-width: 90vw;\n      max-height: 90vh;\n      margin: auto;\n      outline: 0;\n      width: 100%;\n      height: 100%;\n      background: #fff;\n      color: rgba(0, 0, 0, 0.87);\n      transform: translateY(60px);\n      opacity: 0;\n      transition: 0.3s ease all;\n    }\n    .modal .main .overlay {\n      position: absolute;\n      background: rgba(0, 0, 0, 0.4);\n      top: 0;\n      bottom: 0;\n      left: 0;\n      right: 0;\n      opacity: 0;\n      pointer-events: auto;\n      transition: 0.3s ease all;\n    }\n  "]}]}],n.ctorParameters=function(){return[{type:i},{type:e.ElementRef},{type:e.Renderer}]},n.propDecorators={MIndex:[{type:e.Input}],beforestart:[{type:e.Output}],afterstart:[{type:e.Output}],beforeend:[{type:e.Output}],afterend:[{type:e.Output}],modalMain1:[{type:e.ViewChild,args:["modal",{read:e.ElementRef}]}],modalInner:[{type:e.ViewChild,args:["modalInner",{read:e.ElementRef}]}]},n}(),r=function(){function n(){}return n.decorators=[{type:e.NgModule,args:[{imports:[],exports:[o],declarations:[o],providers:[i]}]}],n.ctorParameters=function(){return[]},n}();n.NguModalService=i,n.NguModalModule=r,Object.defineProperty(n,"__esModule",{value:!0})});